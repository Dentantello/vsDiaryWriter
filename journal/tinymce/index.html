<html>
<head>
<script type="text/javascript" src="tinymce.min.js"></script>
<script src="./jquery.min.js"></script>
<link href="./bootstrap.css" rel="stylesheet" type="text/css" />
<link href=./editor.css rel="stylesheet" type="text/css">
<script src="./bootstrap.js"></script>
<script type="text/javascript">
	var loaded = false;
	var config = {};

	config = $.extend(config, {
		statusbar : false,
		resize : false,
		width : "100%",
		height : '100%',
		autoresize : true
	});

	function resize() {
		setTimeout(function() {
			// Main container
			var max = $('.mce-tinymce').css('border', 'none').parent()
					.outerHeight();

			// Menubar
			max += -$('.mce-menubar.mce-toolbar').outerHeight();

			// Toolbar
			max -= $('.mce-toolbar-grp').outerHeight();

			// Random fix lawl - why 1px? no one knows
			max -= 1;

			// Set the new height
			$('.mce-edit-area').height(max);
		}, 200);
	}
	$(window).on('resize', function() {
		resize();
	});

	// Setup plugins 
	config.toolbar = [ "undo redo | styleselect | bold italic | alignleft aligncenter alignright | bullist numlist outdent indent " ];

	// Choose selector
	config.selector = "#content";

	// Set content once initialized
	config.init_instance_callback = function(editor) {
		resize();
	};

	tinyMCE.init(config);

	/*
	 * Returns the content of tinyMCE. 
	 */
	function getContent() {
		return tinyMCE.activeEditor.getContent();
	};

	/*
	 * Sets the content of tinyMCE.
	 */
	function setContent(text) {
		// tinyMCE completly loaded
		if (loaded) {
			tinyMCE.activeEditor.setContent(text);

			// not loaded yet
		} else {
			document.getElementById('content').innerHTML = text;
		}
	};
</script>
</head>

<body>
	<textarea id="content"></textarea>
</body>
</html>
